# BA Torment 파티 데이터 명세

> [!NOTE]
> This document is written in Korean.

[BA Torment](https://bluearchive-torment.netlify.app/)에서 사용하는 파티 데이터 명세입니다.

## 데이터 형식

```python
json_data = {
    "filters": {
        "10098": [0, 0, 0, 0, 0, 0, 1, 2, 2],
        # ...
    },
    "assist_filters": {
        "10098": [0, 0, 0, 72, 22, 0, 21, 65, 18],
        # ...
    },
    "min_partys": 1,
    "max_partys": 15,
    "parties": [
        {
        "FINAL_RANK": 1,
        "SCORE": 53442792,
        "USER_ID": 13113793,
        "LEVEL": "L",
        "PARTY_DATA": {
            "party_1": [10098530, 10105530, 10096530, 10106530, 20040530, 20037530],
            "party_2": [16016520, 10112530, 10105531, 10108520, 20027530, 26014530]
        },
        "TORMENT_RANK": 1
        },
        # ...
    ]
}
```

1. `filters`: 캐릭터별 사용된 횟수를 저장한 딕셔너리입니다.

   - 키는 캐릭터 ID, 값은 성급대로 사용된 횟수를 저장한 리스트입니다.
   - index 0, 5의 값은 무조건 0입니다.
   - index 1~4는 1성, 2성, 3성, 4성 캐릭터의 사용 횟수입니다.
   - index 6~8은 5성 캐릭터(전용무기 1성, 2성, 3성)의 사용 횟수입니다.

2. `assist_filters`: 조력자 캐릭터별 사용된 횟수를 저장한 딕셔너리입니다.

   - 구성은 `filters`와 동일합니다.

3. `min_partys`: 최소 파티 수입니다.
4. `max_partys`: 최대 파티 수입니다.

5. `parties`: 파티 데이터 리스트입니다.
   - 각 요소는 파티 데이터를 저장한 딕셔너리입니다.
   - `FINAL_RANK`: 대결전에서 모든 점수를 합산한 결과 최종 등수입니다.
   - `SCORE`: 총력전 점수입니다.
   - `USER_ID`: 유저 ID입니다. 정보가 없다면 -1로 표시합니다.
   - `LEVEL`: 클리어한 총력전 난이도입니다.
     - `L`: LUNATIC (44000000점 이상)
     - `T`: TORMENT (31076000점 이상)
     - `I`: INSANE (나머지)
   - `PARTY_DATA`: 파티 데이터입니다.
     - `party_1`은 1파티, `party_2`는 2파티... 순으로 저장됩니다.
     - 각 파티는 6개의 캐릭터 ID로 구성됩니다.
     - 캐릭터 ID는 8자리로 구성됩니다.
       - 앞 5자리는 캐릭터 ID입니다.
       - 6번째 자리는 캐릭터 성급입니다.
       - 7번째 자리는 캐릭터의 전용 무기 성급입니다.
       - 8번째 자리는 조력자일 경우 1, 아닐 경우 0입니다.
       - 예시: `10098530`은 타카하시 호시노(무장) 5성, 전용무기 3성, 조력자는 아닙니다.
     - 캐릭터 정보가 없다면 그 자리를 0으로 표시합니다.
       - 특히 마지막 파티에서 애정 캐릭터 1~2 캐릭터만 사용하는 경우가 있습니다.
       - 예를 들어 1,2,5번째 데이터만 유효하다면 파티 데이터는 `[1xxxxxxx, 1xxxxxxx, 00000000, 00000000, 1xxxxxxx, 00000000]` 형식이 됩니다.
   - `TORMENT_RANK`: 해당 총력전의 등수입니다. 대결전일 경우 최종 등수와 다를 수 있습니다.
