# BA Torment 총력전 요약 데이터 명세

> [!NOTE]
> This document is written in Korean.

[BA Torment](https://bluearchive-torment.netlify.app/)에서 사용하는 총력전 요약 데이터 명세입니다.

## 데이터 형식

```python
json_data = {
  "torment": {   # 토먼트 데이터
    "clear_count": 8248,
    "party_counts": {
      "in1000": [0, 239, 119, 2],
      "in2000": [0, 992, 358, 10],
      "in5000": [0, 2693, 1636, 31],
      "in8248": [0, 2693, 4161, 754]
    },
    "filters": {
      "26014": [0, 3, 10, 39, 891, 5, 3180, 620, 8],
      # ...
    },
    "assist_filters": {
      "20040": [0, 0, 0, 2, 0, 0, 3, 31, 7399],
      # ...
    },
    "top5_partys": [
      [
        "10105_10106_10112_16016_20027_20040_10019_10053_10096_10098_20000_26013",
        561
      ],
      [
        "10105_10106_10112_16016_20027_20040_10020_10034_10096_10098_20037_20040",
        470
      ],
      [
        "10105_10106_10112_16016_20027_20040_10019_10053_10096_10098_20000_26013_10007_10011_10050_10072_20024_26014",
        396
      ],
      [
        "10105_10106_10112_16016_20027_20040_10020_10034_10096_10098_20037_26014",
        267
      ],
      [
        "10105_10106_10112_16016_20027_20040_10020_10034_10096_10098_20000_20037",
        254
      ]
    ]
  },
  "lunatic": {
    "clear_count": 640,
    "party_counts": {
      "in100": [0, 23, 75, 2],
      "in200": [0, 23, 128, 49],
      "in500": [0, 23, 167, 310],
      "in640": [0, 23, 167, 450]
    },
    "filters": {
      "10108": [0, 0, 0, 383, 56, 0, 52, 62, 11],
      # ...
    },
    "assist_filters": {
      "10105": [0, 0, 0, 0, 0, 0, 0, 14, 38],
      # ...
    },
    "top5_partys": [
      [
        "10105_10106_10112_16016_20027_20040_10011_10021_10050_10071_20003_20024_10007_10053_10072_10108_20000_26013_10020_10034_10096_10098_20037_26014",
        13
      ],
      [
        "10019_10050_10053_10071_20003_26003_10105_10106_10112_16016_20027_20040_10007_10072_10108_16002_20000_26013_10020_10034_10096_10098_20037_26014",
        13
      ],
      [
        "10007_10020_10096_16016_20037_20040_10034_10105_10106_10112_20027_20040_10011_10072_10098_10108_26013_26014",
        11
      ],
      [
        "10098_10108_10112_16016_20040_26013_10034_10096_10105_10106_20037_20040",
        10
      ],
      [
        "10007_10020_10096_16016_20037_20040_10034_10105_10106_10112_20027_20040",
        9
      ]
    ]
  }
}
```

데이터는 2가지 파트로 구성됩니다.

1. `torment`: 토먼트 데이터
2. `lunatic`: 루나틱 데이터

각 파트는 다음과 같은 데이터를 포함합니다.

1. `clear_count`: 해당 난이도를 클리어한 유저 수입니다.
2. `party_counts`: 해당 난이도에서 사용된 파티 수 통계입니다.
   - 키는 파티 수, 값은 해당 파티 수를 클리어한 유저 수의 배열입니다.
   - 예시: `in1000`은 1000명 이하 파티 횟수를 의미합니다.
   - 키는 `100, 200, 500, 1000, 2000, 5000, 10000, 20000` 중 하나입니다.
   - 배열의 길이는 4로 고정이며, 각 인덱스는 1파티, 2파티, 3파티, 4파티 이상으로 클리어한 유저 수를 의미합니다.
   - 해당 키에 대한 데이터가 없으면 생략합니다.
3. `filters`: 캐릭터별 사용된 횟수를 저장한 딕셔너리입니다.

   - 키는 캐릭터 ID, 값은 성급대로 사용된 횟수를 저장한 리스트입니다.
   - index 0, 5의 값은 무조건 0입니다.
   - index 1~4는 1성, 2성, 3성, 4성 캐릭터의 사용 횟수입니다.
   - index 6~8은 5성 캐릭터(전용무기 1성, 2성, 3성)의 사용 횟수입니다.
   - 클리어한 유저들의 1% 이상이 사용한 캐릭터만 포함됩니다.

4. `assist_filters`: 조력자 캐릭터별 사용된 횟수를 저장한 딕셔너리입니다.

   - 구성은 `filters`와 동일합니다.

5. `top5_partys`: 클리어한 유저들이 사용한 상위 5개 파티를 저장한 리스트입니다.
   - 각 요소는 파티 데이터와 클리어한 유저 수를 저장한 리스트입니다.
   - 파티 데이터는 사용된 모든 캐릭터 ID를 오름차순으로 정렬하여 연결한 문자열입니다.
   - 예시: `10105_10106_10112_16016_20027_20040_10019_10053_10096_10098_20000_26013`
